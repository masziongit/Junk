{"version":3,"sources":["../src/oracle_test.js"],"names":["oracledb","require","config","user","password","connectString","poolMin","poolMax","poolIncrement","db","createPool","pool","getConnection","conn","execute","result","console","log","rows","doRelease","connection","close","err","error","message"],"mappings":";;;;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;;AAEA,IAAIC,SAAS;AACLC,UAAM,WADD;AAELC,cAAU,QAFL;AAGLC,mBAAe,mBAHV;AAILC,aAAS,EAJJ;AAKLC,aAAS,EALJ;AAMLC,mBAAe;AANV,CAAb;;AASA,IAAMC;AAAA,uEAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACaT,SAASU,UAAT,CAAoBR,MAApB,CADb;;AAAA;AACDS,4BADC;AAAA;AAAA,+BAEUX,SAASY,aAAT,EAFV;;AAAA;AAEHC,4BAFG;AAAA;AAAA,+BAGcA,KAAKC,OAAL,olGAHd;;AAAA;AAGDC,8BAHC;;;AAMPC,gCAAQC,GAAR,CAAYF,OAAOG,IAAnB;;AANO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAL;;AAAA;AAAA;AAAA;AAAA,GAAN;;AASAT;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASU,SAAT,CAAmBC,UAAnB,EAA+B;AAC3BA,eAAWC,KAAX,CACI,UAAUC,GAAV,EAAe;AACX,YAAIA,GAAJ,EACIN,QAAQO,KAAR,CAAcD,IAAIE,OAAlB;AACP,KAJL;AAKH","file":"oracle_test.js","sourcesContent":["var oracledb = require('oracledb');\r\n\r\nvar config = {\r\n        user: \"C##testsc\",\r\n        password: \"qwerty\",\r\n        connectString: \"192.168.99.101/xe\",\r\n        poolMin: 10,\r\n        poolMax: 10,\r\n        poolIncrement: 0\r\n    };\r\n\r\nconst db = async ()=>{\r\n    const pool =  await oracledb.createPool(config)\r\n    let conn = await oracledb.getConnection();\r\n    const result = await conn.execute\r\n            (`UPDATE  prospect_profile SET crm_id = '1237',citizen_id = '1234567890123',cid_issue_date = TO_DATE('2018-08-16','YYYY-MM-DD'),cid_expiry_date = TO_DATE('2018-08-16','YYYY-MM-DD'),passport_no = '1234567890123',pp_issue_date = TO_DATE('2018-08-16','YYYY-MM-DD'),pp_expiry_date = TO_DATE('2018-08-16','YYYY-MM-DD'),title_th = 'คำนำหน้าชื่อ',firstname_th = 'ชื่อ',lastname_th = 'นามสกุล',title_en = 'title',firstname_en = 'firstname',lastname_en = 'lastname',birth_date = TO_DATE('2018-08-16','YYYY-MM-DD'),reg_addr_nmbr = 'บ้านเลขที่',reg_addr_moo = 'หมู่',reg_addr_building = 'อาคาร',reg_addr_soi = 'ซอย',reg_addr_road = 'ถนน',reg_district = 'อำเภอ',reg_subdistrict = 'ตำบล',reg_country = 'ประเทศ',reg_province = 'จังหวัด',reg_postal_cd = '10000',mobile_no = 'เบอร์มือถือ',gender = 'M',marital_status = '1',nationality = 'สัญชาติ',other_nationality = 'เชื้อชาติ',education = 'การศึกษา',occupation = 'อาชีพ',income = 'รายได้',country_income = 'รายได้',source_income = 'รายได้',purpose_for_saving_flag = 1,purpose_for_investment_flag = 1,purpose_for_risk_management_flag = 1,purpose_for_payroll_acct_flag = 1,purpose_for_other_flag = 1,purpose_for_other = 'วัตถุประสงค์อื่น ๆ',pers_ph_nbr = 'pers_ph_nbr',pers_ph_ext = 'pers_ph_ext',office_ph_nbr = 'office_ph_nbr',office_ph_ext = 'office_ph_ext',con_addr_nmbr = 'con_addr_nmbr',con_addr_moo = 'con_addr_moo',con_addr_building = 'con_addr_building',con_addr_soi = 'con_addr_soi',con_addr_road = 'con_addr_road',con_district = 'con_district',con_subdistrict = 'con_subdistrict',con_country = 'con_country',con_province = 'con_province',con_postal_cd = '10000',company_name = 'company_name',off_addr_nmbr = 'off_addr_nmbr',off_addr_moo = 'off_addr_moo',off_addr_building = 'off_addr_building',off_addr_soi = 'off_addr_soi',off_addr_road = 'off_addr_road',off_district = 'off_district',off_subdistrict = 'off_subdistrict',off_country = 'off_country',off_province = 'off_province',off_postal_cd = '10000',fatca_ans = 'fatca_ans',laser_number = 'laser_number',dopa_flag = 1,risklevel = '1',risk_calculation_date = TO_DATE('2018-08-16','YYYY-MM-DD'),swf_status = 'swf_status',email = 'email@email.com',occupation_specify = 'occupation_specify',flow_status = 'flow_status',e_consent_flag = 1,ekyc_consent_flag = 1,ekyc_consent_date = TO_DATE('2018-08-16','YYYY-MM-DD'),confidence_score = '100',prospect_status = 'prospect_status',app_id = '1',UPDATE_DATE = SYSDATE WHERE PROSPECT_ID = 162`);\r\n\r\n    console.log(result.rows);\r\n}\r\n\r\ndb()\r\n\r\n\r\n\r\n\r\n\r\n// oracledb.getConnection(\r\n//     {\r\n//         user: \"payment_hub\",\r\n//         password: \"qwerty\",\r\n//         connectString: \"192.168.99.101/xe\"\r\n//     },\r\n//     function (err, connection) {\r\n//         if (err) {\r\n//             console.error(err.message);\r\n//             return;\r\n//         }\r\n//         connection.execute(\r\n//             `SELECT *\r\n//                 FROM ext_general_acct_table\r\n//                 WHERE bank_id = '011' AND scheme_type != 'OAB' AND LENGTH(account_id) = 10`,\r\n//             // bind value for :id\r\n//             function (err, result) {\r\n//                 if (err) {\r\n//                     console.error(err.message);\r\n//                     doRelease(connection);\r\n//                     return;\r\n//                 }\r\n//                 console.log(result.rows);\r\n//                 doRelease(connection);\r\n//             });\r\n//     });\r\n\r\nfunction doRelease(connection) {\r\n    connection.close(\r\n        function (err) {\r\n            if (err)\r\n                console.error(err.message);\r\n        });\r\n}\r\n\r\n"]}
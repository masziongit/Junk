'use strict';

var sworm = require('sworm');
var config = require('./config.json');

var db = sworm.db({
  "driver": "sqlite",
  "config": {
    "filename": "./db.db"
  },
  "log": function log(sql, params) {
    console.log(sql);
    console.log(params);
  }
});

var alterTable = "ALTER TABLE PROSPECT_PROFILE RENAME TO TEMP_PROSPECT_PROFILE;";
db.query(alterTable).then(function () {
  alterTable;
}).catch(function (err) {
  throw err;
});

var createTable = "CREATE TABLE if not exists PROSPECT_PROFILE \n(" + "    PROSPECT_ID                      INTEGER   NOT NULL \n" + "                                                     PRIMARY KEY AUTOINCREMENT,\n" + "    CRM_ID                           VARCHAR (30)    DEFAULT NULL,\n" + "    CITIZEN_ID                       VARCHAR (20)    DEFAULT NULL,\n" + "    CID_ISSUE_DATE                   DATE            DEFAULT NULL,\n" + "    CID_EXPIRY_DATE                  DATE            DEFAULT NULL,\n" + "    PASSPORT_NO                      VARCHAR (20)    DEFAULT NULL,\n" + "    PP_ISSUE_DATE                    DATE            DEFAULT NULL,\n" + "    PP_EXPIRY_DATE                   DATE            DEFAULT NULL,\n" + "    TITLE_TH                         VARCHAR (40)    DEFAULT NULL,\n" + "    FIRSTNAME_TH                     VARCHAR (255)   DEFAULT NULL,\n" + "    LASTNAME_TH                      VARCHAR (255)   DEFAULT NULL,\n" + "    TITLE_TH                         VARCHAR (40)    DEFAULT NULL,\n" + "    FIRSTNAME_EN                     VARCHAR (35)    DEFAULT NULL,\n" + "    LASTNAME_EN                      VARCHAR (35)    DEFAULT NULL,\n" + "    BIRTH_DATE                       DATE            DEFAULT NULL,\n" + "    REG_ADDR_NMBR                    VARCHAR (35)    DEFAULT NULL,\n" + "    REG_ADDR_MOO                     VARCHAR (35)    DEFAULT NULL,\n" + "    REG_ADDR_BUILDING                VARCHAR (35)    DEFAULT NULL,\n" + "    REG_ADDR_SOI                     VARCHAR (35)    DEFAULT NULL,\n" + "    REG_ADDR_ROAD                    VARCHAR (35)    DEFAULT NULL,\n" + "    REG_DISTRICT                     VARCHAR (40)    DEFAULT NULL,\n" + "    REG_SUBDISTRICT                  VARCHAR (40)    DEFAULT NULL,\n" + "    REG_COUNTRY                      VARCHAR (35)    DEFAULT NULL,\n" + "    REG_PROVINCE                     VARCHAR (20)    DEFAULT NULL,\n" + "    REG_POSTAL_CD                    VARCHAR (11)    DEFAULT NULL,\n" + "    MOBILE_NO                        VARCHAR (18)    DEFAULT NULL,\n" + "    GENDER                           VARCHAR (1)     DEFAULT NULL,\n" + "    MARITAL_STATUS                   VARCHAR (1)     DEFAULT NULL,\n" + "    NATIONALITY                      VARCHAR (30)    DEFAULT NULL,\n" + "    OTHER_NATIONALITY                VARCHAR (30)    DEFAULT NULL,\n" + "    EDUCATION                        VARCHAR (20)    DEFAULT NULL,\n" + "    OCCUPATION                       VARCHAR (20)    DEFAULT NULL,\n" + "    INCOME                           VARCHAR (20)    DEFAULT NULL,\n" + "    COUNTRY_INCOME                   VARCHAR (20)    DEFAULT NULL,\n" + "    SOURCE_INCOME                    VARCHAR (20)    DEFAULT NULL,\n" + "    PURPOSE_FOR_OPEN_ACCOUNT         CHAR (1)        DEFAULT NULL,\n" + "    PERS_PH_NBR                      VARCHAR (18)    DEFAULT NULL,\n" + "    PERS_PH_EXT                      VARCHAR (18)    DEFAULT NULL,\n" + "    OFFICE_PH_NBR                    VARCHAR (18)    DEFAULT NULL,\n" + "    OFFICE_PH_EXT                    VARCHAR (18)    DEFAULT NULL,\n" + "    CON_ADDR_NMBR                    VARCHAR (35)    DEFAULT NULL,\n" + "    CON_ADDR_MOO                     VARCHAR (35)    DEFAULT NULL,\n" + "    CON_ADDR_BUILDING                VARCHAR (35)    DEFAULT NULL,\n" + "    CON_ADDR_SOI                     VARCHAR (35)    DEFAULT NULL,\n" + "    CON_ADDR_ROAD                    VARCHAR (35)    DEFAULT NULL,\n" + "    CON_DISTRICT                     VARCHAR (40)    DEFAULT NULL,\n" + "    CON_SUBDISTRICT                  VARCHAR (40)    DEFAULT NULL,\n" + "    CON_COUNTRY                      VARCHAR (35)    DEFAULT NULL,\n" + "    CON_PROVINCE                     VARCHAR (20)    DEFAULT NULL,\n" + "    CON_POSTAL_CD                    VARCHAR (11)    DEFAULT NULL,\n" + "    COMPANY_NAME                     VARCHAR (256)   DEFAULT NULL,\n" + "    OFF_ADDR_NMBR                    VARCHAR (35)    DEFAULT NULL,\n" + "    OFF_ADDR_MOO                     VARCHAR (35)    DEFAULT NULL,\n" + "    OFF_ADDR_BUILDING                VARCHAR (35)    DEFAULT NULL,\n" + "    OFF_ADDR_SOI                     VARCHAR (35)    DEFAULT NULL,\n" + "    OFF_ADDR_ROAD                    VARCHAR (35)    DEFAULT NULL,\n" + "    OFF_DISTRICT                     VARCHAR (40)    DEFAULT NULL,\n" + "    OFF_SUBDISTRICT                  VARCHAR (40)    DEFAULT NULL,\n" + "    OFF_COUNTRY                      VARCHAR (35)    DEFAULT NULL,\n" + "    OFF_PROVINCE                     VARCHAR (20)    DEFAULT NULL,\n" + "    OFF_POSTAL_CD                    VARCHAR (11)    DEFAULT NULL,\n" + "    FATCA_ANS                        VARCHAR (9)     DEFAULT NULL,\n" + "    LASER_NUMBER                     VARCHAR (12)    DEFAULT NULL,\n" + "    DOPA_FLAG                        TINYINT (4)     DEFAULT NULL,\n" + "    RISKLEVEL                        DECIMAL (10, 0) DEFAULT NULL,\n" + "    RISK_CALCULATION_DATE            DATE            DEFAULT NULL,\n" + "    SWF_STATUS                       VARCHAR (35)    DEFAULT NULL,\n" + "    EMAIL                            VARCHAR (70)    DEFAULT NULL,\n" + "    OCCUPATION_SPECIFY               VARCHAR (50)    DEFAULT NULL,\n" + "    FLOW_STATUS                      VARCHAR (30)    DEFAULT NULL,\n" + "    E_CONSENT_FLAG                   TINYINT (1)     DEFAULT NULL,\n" + "    EKYC_CONSENT_FLAG                TINYINT (1)     DEFAULT NULL,\n" + "    EKYC_CONSENT_DATE                DATE            DEFAULT NULL,\n" + "    CONFIDENCE_SCORE                 DECIMAL (5, 2)  DEFAULT NULL,\n" + "    PROSPECT_STATUS                  VARCHAR (30)    NOT NULL,\n" + "    CREATE_DATE                      TIMESTAMP (6)   NOT NULL,\n" + "    UPDATE_DATE                      TIMESTAMP (6)   NOT NULL,\n" + "    APP_ID                           VARCHAR (2)     NOT NULL,\n" + "    CHANNEL                          VARCHAR (10)    DEFAULT NULL\n" + ");";
// db.query(createTable).then(() => {
//    alterTable
//  }).catch((err) => {
//      throw err
//  })

var insert = '\n  INSERT INTO PROSPECT_PROFILE(\n    PROSPECT_ID,\n    CRM_ID,\n    CITIZEN_ID,\n    CID_ISSUE_DATE,\n    CID_EXPIRY_DATE,\n    PASSPORT_NO,\n    PP_ISSUE_DATE,\n    PP_EXPIRY_DATE,\n    TITLE_TH,\n    FIRSTNAME_TH,\n    LASTNAME_TH,\n    FIRSTNAME_EN,\n    LASTNAME_EN,\n    BIRTH_DATE,\n    REG_ADDR_NMBR,\n    REG_ADDR_MOO,\n    REG_ADDR_BUILDING,\n    REG_ADDR_SOI,\n    REG_ADDR_ROAD,\n    REG_DISTRICT,\n    REG_SUBDISTRICT,\n    REG_COUNTRY,\n    REG_PROVINCE,\n    REG_POSTAL_CD,\n    MOBILE_NO,\n    GENDER,\n    MARITAL_STATUS,\n    NATIONALITY,\n    OTHER_NATIONALITY,\n    EDUCATION,\n    OCCUPATION,\n    INCOME,\n    COUNTRY_INCOME,\n    SOURCE_INCOME,\n    PURPOSE_FOR_OPEN_ACCOUNT,\n    PURPOSE_FOR_OTHER,\n    PERS_PH_NBR,\n    PERS_PH_EXT,\n    OFFICE_PH_NBR,\n    OFFICE_PH_EXT,\n    CON_ADDR_NMBR,\n    CON_ADDR_MOO,\n    CON_ADDR_BUILDING,\n    CON_ADDR_SOI,\n    CON_ADDR_ROAD,\n    CON_DISTRICT,\n    CON_SUBDISTRICT,\n    CON_COUNTRY,\n    CON_PROVINCE,\n    CON_POSTAL_CD,\n    COMPANY_NAME,\n    OFF_ADDR_NMBR,\n    OFF_ADDR_MOO,\n    OFF_ADDR_BUILDING,\n    OFF_ADDR_SOI,\n    OFF_ADDR_ROAD,\n    OFF_DISTRICT,\n    OFF_SUBDISTRICT,\n    OFF_COUNTRY,\n    OFF_PROVINCE,\n    OFF_POSTAL_CD,\n    FATCA_ANS,\n    LASER_NUMBER,\n    DOPA_FLAG,\n    RISKLEVEL,\n    RISK_CALCULATION_DATE,\n    SWF_STATUS,\n    EMAIL,\n    OCCUPATION_SPECIFY,\n    FLOW_STATUS,\n    E_CONSENT_FLAG,\n    EKYC_CONSENT_FLAG,\n    EKYC_CONSENT_DATE,\n    CONFIDENCE_SCORE,\n    PROSPECT_STATUS,\n    CREATE_DATE,\n    UPDATE_DATE,\n    APP_ID,\n    CHANNEL\n  )\n  SELECT\n    PROSPECT_ID,\n    CRM_ID,\n    CITIZEN_ID,\n    CID_ISSUE_DATE,\n    CID_EXPIRY_DATE,\n    PASSPORT_NO,\n    PP_ISSUE_DATE,\n    PP_EXPIRY_DATE,\n    TITLE_TH,\n    FIRSTNAME_TH,\n    LASTNAME_TH,\n    FIRSTNAME_EN,\n    LASTNAME_EN,\n    BIRTH_DATE,\n    REG_ADDR_NMBR,\n    REG_ADDR_MOO,\n    REG_ADDR_BUILDING,\n    REG_ADDR_SOI,\n    REG_ADDR_ROAD,\n    REG_DISTRICT,\n    REG_SUBDISTRICT,\n    REG_COUNTRY,\n    REG_PROVINCE,\n    REG_POSTAL_CD,\n    MOBILE_NO,\n    GENDER,\n    MARITAL_STATUS,\n    NATIONALITY,\n    OTHER_NATIONALITY,\n    EDUCATION,\n    OCCUPATION,\n    INCOME,\n    COUNTRY_INCOME,\n    SOURCE_INCOME,\n    PURPOSE_FOR_SAVING_FLAG,\n    PURPOSE_FOR_OTHER,\n    PERS_PH_NBR,\n    PERS_PH_EXT,\n    OFFICE_PH_NBR,\n    OFFICE_PH_EXT,\n    CON_ADDR_NMBR,\n    CON_ADDR_MOO,\n    CON_ADDR_BUILDING,\n    CON_ADDR_SOI,\n    CON_ADDR_ROAD,\n    CON_DISTRICT,\n    CON_SUBDISTRICT,\n    CON_COUNTRY,\n    CON_PROVINCE,\n    CON_POSTAL_CD,\n    COMPANY_NAME,\n    OFF_ADDR_NMBR,\n    OFF_ADDR_MOO,\n    OFF_ADDR_BUILDING,\n    OFF_ADDR_SOI,\n    OFF_ADDR_ROAD,\n    OFF_DISTRICT,\n    OFF_SUBDISTRICT,\n    OFF_COUNTRY,\n    OFF_PROVINCE,\n    OFF_POSTAL_CD,\n    FATCA_ANS,\n    LASER_NUMBER,\n    DOPA_FLAG,\n    RISKLEVEL,\n    RISK_CALCULATION_DATE,\n    SWF_STATUS,\n    EMAIL,\n    OCCUPATION_SPECIFY,\n    FLOW_STATUS,\n    E_CONSENT_FLAG,\n    EKYC_CONSENT_FLAG,\n    EKYC_CONSENT_DATE,\n    CONFIDENCE_SCORE,\n    PROSPECT_STATUS,\n    CREATE_DATE,\n    UPDATE_DATE,\n    APP_ID,\n    CHANNEL\n  FROM  TEMP_PROSPECT_PROFILE\n';
db.query(insert).then(function () {
  insert;
}).catch(function (err) {
  throw err;
});
//# sourceMappingURL=rename.js.map